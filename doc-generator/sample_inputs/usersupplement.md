# Redfish Schemas - User Documentation

This document is an example of a usersupplement.md document, which contains configuration hints and supplemental content for documentation generated by the Redfish Documentation Generator tool. Proper use of section headers allows for the Generator to incorporate the additional information automatically.

The supplement is split into several major sections, noted by first-level headings. All are optional, and the order of sections doesn't matter. Sections may include first-level headings (you will almost certainly want one in the Introduction); only exact matches for the following are detected as section delimiters:

- Schema URI Mapping
- Profile URI Mapping
- Keyword Configuration
- Description Overrides
- Units Translation
- Enum Deprecations
- Introduction
- Postscript
- Excluded Properties
- Excluded Annotations
- Excluded Schemas
- Schema Supplement

Text at the top of the supplement, like this text, is ignored up until the first recognized section header.


# Schema URI Mapping

Map schema URIs to local files. You may omit the protocol (e.g., https://) from the URI.
The doc generator will use the local files when specified and otherwise
follow the full URI, including data from remote files if possible.

## Local-repo: redfish.dmtf.org/schemas/v1 ./json-schema


# Profile URI Mapping

Meaningful only for profile-mode output, and probably only if the
profile specifies RequiredProfiles.

Map schema URIs to local files. You may omit the protocol (e.g., https://) from the URI.
The doc generator will use the local files when specified and otherwise
follow the full URI, including data from remote files if possible.

## Local-repo: redfish.dmtf.org/profiles ../Redfish-Tools/doc-generator/sample_inputs


# Keyword Configuration

Keywords and their values as bullet points with name:value paris in the "Keyword Configuration" section, as shown here. Keywords are not case-sensitive.

At present, we support:

omit_version_in_headers, boolean. Default false. If false, schema sections in the generated documentation will be headed by schema name and version number. If true, only the schema name will appear in the heading.

add_toc, boolean. Default false. Add a Table of Contents (relevant for HTML output only)

- omit_version_in_headers: false
- add_toc: true

Note: you can specify the location of the TOC, presumably in the Introduction section, by placing the text [add_toc] where you want the Table of Contents substituted in. By default, the TOC will be placed at the top of the HTML output.

# Description Overrides

Note: markdown is allowed in description overrides, but HTML markup is not; it will be escaped.

* Status: See  [The Status Object](#status_description), above.

# Units Translation

String-replacement for "units" values. Case-sensitive. Any units not matched will be output as-is.

| Value            | Replacement      |
| ---------------- | ---------------- |
| s                | seconds          |
| Mb/s             | Mbits/second     |
| By               | Bytes            |


# Enum Deprecations

Second-level heading with path to enum definition (omit protocol):

## redfish.dmtf.org/schemas/v1/ComputerSystem.v1_3_0.json#definitions/BootSource

(Bullet with Enum name, pipe, version string, pipe, descriptive text.)

* Floppy | 1.3+ | Deprecated in version 1.3+. The kids just think a floppy is a 3D printout of the "Save" icon now.

* SomethingElse | 9.9+ | This will be ignored because it doesn't match anything, but it shows a second item.

Non-bulleted lines will be ignored.

## redfish.dmtf.org/schemas/v1/LogEntry.v1_2_0.json#definitions/LogEntryCode

* Assert | 1.2+ | This is an example of deprecation on an enum with no enum descriptions. It will appear differently in the output.

# Introduction

Text placed here will appear at the top of the output.  Document common usage, common properties excluded from the schema tables, and anything else useful. Typically you will start with a first-level heading (title), but in this example we start with this paragraph.

# Title goes here

Optionally specify that this is where you want the TOC:

[add_toc]

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum

If you want Referenced Objects, use insert_common_objects in square brackets. This placeholder can also be put in the Postscript section.

[insert_common_objects]


To include a table of collection names & their URIs, use insert_collections in square brackets. This placeholder can also be put in the Postscript section.

[insert_collections]


## You can now include Schema fragments:

A fragment is a definition pulled out of some schema. Use #include_fragment at the beginning of a line, followed by the $ref path to the fragment. It will be processed like definitions elsewhere in the document,  and will be output in place of the #include_fragment keyword.

<h2 id="status_description">The Status Object</h2>

#include_fragment http://redfish.dmtf.org/schemas/v1/Resource.json#/definitions/Status

# Postscript

Text in this section is placed at the end of the document, following all of the schema sections.

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum


# Excluded Properties

This section documents properties that are either common throughout the Redfish Schema, or are defined in the Resource.1.x.x or odata.4.x.x schema files.  Therefore, for clarity, they are excluded from the schema-specific tables. Excluded Properties are excluded _only_ from root-level properties.

Each property to be excluded should be listed in this section with a '## ' prefix -- that is, as a second-level heading.
Partial match is supported; prepend '*' to indicate partial matches.

## @odata.id

## @odata.context

## @odata.type

# Excluded Annotations

Excluded Annotations are omitted from property lists at all levels. Partial match is supported; prepend '*' to exclude partial matches. Excluded annotations are omitted throughout the generated documentation.

Each annotation to be excluded should be listed in this section with a '## ' prefix -- that is, as a second-level heading.
Partial match is supported; prepend '*' to indicate partial matches.

## *@odata.count
## *@odata.navigationLink

# Excluded Schemas

Schemas listed here are excluded from the output document.  This can be used to remove supporting documents while still allowing for easy bulk processing of whole schema directories.

Each schema name to be excluded should be listed in this section with a '## ' prefix -- that is, as a second-level heading.
Partial match is supported; prepend '*' to indicate partial matches.

## *Collection

(Wildcard removal of anything with "Collection" in the name)


# Schema Supplement

This is the schema-specific section.  2nd-level headings indicate the schema name with, optionally, and underscore and the major version appended (e.g., "_1"). If the version number is omitted (and no more specific match exists), the section will be used for any version of that schema.

Third-level headings "Schema-intro", "Schema-postscript", "JSONpayload", and "Property Details" are meaningful. "Description" is also recognized, for backwards compatibility, but "Schema-intro" is preferred. See below for explanations and examples.


## ManagerAccount_1

This section is supplementation information for a "ManagerAccount" schema, version 1. (The text in this paragraph will not appear anywhere in the generated documentation; only content under a recognized subheading is used.)

### Schema-Intro

If a Schema-Intro section is provided, it will appear just after the Schema Name, before the property table.

This will replace any description present in the json schema.

### Schema-Postscript

Schema-Postscript identifies text placed after the property table.

### JSONPayload

A sample JSON payload can be included, which will be included in an "Example Response" section in the generated documentation. When markdown output is fed to the Slate documentation tool, this will appear in the language-specific tab. The entire content under the JSONPayload header is included, so in this example, a paragraph of text appears, followed by some JSON that is completely unrelated to Redfish!

Alternatively, a path to a mockup may be specified, as shown under Chassis.


```json
[
  {
    "meeting_id": 1194,
    "name": "Review meeting",
    "start_time": {
      "value": 1431648000,
      "iso_8601": "2015-05-15T00:00:00Z"
    }
  },
  {
    "meeting_id": 1192,
    "name": "Status followup",
    "start_time": {
      "value": 1430956800,
      "iso_8601": "2015-05-07T00:00:00Z"
    }
  },
  {
    "meeting_id": 1199,
    "name": "Status update",
    "start_time": {
      "value": 1430872200,
      "iso_8601": "2015-05-06T00:30:00Z"
    }
  }
]
```

## Chassis

NB: a mockup can be included either as a path on the local filesystem, or as a fully-qualified URL (HTTP[S]).

### Mockup

mockups/public-rackmount1/Chassis/1U/index.json

### Description Overrides

* Name :  Name of this Chassis. For example, "Covfefe."

## Processor


Here's a supplement to the "Processor" schema. This will be included in the generated documentation regardless of the version number of the PRocessor schema, unless there is also a more specific supplement for the Processor and major version.

### Description

Description text is placed before the property table under the schema name, just like Schema-Intro.

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum


### Property Details

The "Property Details" section provides details for individual properties in the schema.

Fourth-level headings which match property names will add a "Property Details" section after the table (if one isn't auto-generated because of an enumeration table).

#### ProcessorId

This is where some text to explain the ProcessorId property should go.

#### VendorId

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum

#### IdentificationRegisters

Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.

#### EffectiveFamily

Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum

## AccountService

### Schema-Intro

If a Schema-Intro section is provided, it will appear just after the Schema Name, before the property table.

This will replace any description present in the json schema.

### Schema-Postscript

Text placed after the property table.

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum

### Mockup

mockups/public-rackmount1/AccountService/index.json

## AttributeRegistry

### Schema-Intro

If both Schema-Intro section and a Description are provided, the Schema-Intro will appear after the Description text.

### Description

If both Schema-Intro section and a Description are provided, the Description will appear first.

This will replace any description present in the json schema.


## ComputerSystem

Here's an example of "Action Details," which will be added to an "Actions" section for the specified schema.

### Action Details

#### Reset

This action allows the user to perform a reset of the computer system. The following parameters further allow the selection of the reset type. The Rest Types supported by the particular system can be discovered by following the ActionInfo link.

##### Example
{
"ResetKeysType": "DeleteAllKeys"
}


## SecureBoot

Another "Action Details" example, this with tabular data in the details. Note the formatting of tables! Of course if you're generating markdown, anything that works in your target markdown processor will do. The examples shown work both for markdown in the Slate tool and for conversion to HTML.

The markdown-to-html converter works with pipe-delimited tables. A header row -- a row followed by a separator "row" of dashes -- is required for the table to be recognized, so you must include a header with empty cells if there are no column headings. Leave two blank lines before and after the table.

### Action Details

#### ResetKeys

This Action is used to reset the SecureBoot keys.

The following table shows the parameters for the action which are included in the POST body to the URI shown in the "Target" property of the Action.


|     |     |     |
| --- | --- | --- |
| { |  |  |  |
|   ResetKeysType | Required | String | The type of reset to be performed. See Parameter Details below for more information. |
| } |  |  |  |


ResetKeysType


| String                | Description |
| --------------------- | ----------- |
| ResetAllKeysToDefault | Reset the content of all UEFI Secure Boot key databases (PK, KEK, DB, DBX) to their default values. |
| DeleteAllKeys | Delete the content of all UEFI Secure Boot key databases (PK, KEK, DB, DBX). This puts the system in Setup Mode. |
| DeletePK | Delete the content of the PK UEFI Secure Boot key database. This puts the system in Setup Mode. |


##### Example
{
"ResetKeysType":"DeleteAllKeys"
}


## Bios

### Action Details

This is just some test data so we can see that multiple Actions properties are handled.

#### ChangePassword

This is the ChangePassword Action documentation.

##### Example
{
"OldPassword": "Password",
"NewPassword": "Password1"
}

#### ResetBios

This is the ResetBios Action documentation.

##### Example
{
"foo":"bar"
}

# Schema Documentation

Use this section to "rewrite" URIs for links to schemas not documented in this output. * wildcard is supported. Include each as a second-level heading with a pipe separating the URI to replace from the replacement.

## http://redfish.dmtf.org/schemas/v1/Manager.json#/definitions/Manager | http://www.example.com/Manager_documentation

## *//redfish.dmtf.org/schemas/v1/Drive*.json | https://www.example.com/Drive_documentation
